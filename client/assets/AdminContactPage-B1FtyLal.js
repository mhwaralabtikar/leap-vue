import{b as j,d as U,u as X,r as h,h as S,w as Y,e as m,f as n,m as e,v as x,t as r,j as l,s as i,k as o,p as D,A as y,l as w,F as L,n as R,B as Z,a0 as ee,z as T,a6 as A,a7 as te,a4 as se,V as ae,C as z,a8 as re,O as oe,a9 as ne}from"./index-Ck4Sddnw.js";import{u as le,C as de,H as ie,U as ce}from"./contact-yYUK76PZ.js";import{B as ue,S as me}from"./send-CYEAKrKT.js";import{R as pe}from"./refresh-cw-BAYVjdwE.js";import{C as ve}from"./circle-alert-55OBAY61.js";import{C as be}from"./clock-Bpfoo7LA.js";import{E as fe}from"./eye-DsGQ5qMF.js";import{T as ge}from"./trash-CzSmPuCT.js";import{C as he}from"./chevron-left-DR5On9Dh.js";import{T as xe}from"./triangle-alert-CxZ1oQLw.js";/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=j("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=j("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=j("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=j("reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=j("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ce={class:"py-16 sm:py-24 bg-background relative"},$e={class:"container mx-auto px-4 relative"},Se={class:"max-w-3xl mx-auto text-center mb-16"},Te={class:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6 animate-in slide-in-from-bottom duration-700"},je={class:"text-lg md:text-xl text-foreground/70 animate-in slide-in-from-bottom duration-700 delay-150"},Ve={class:"max-w-6xl mx-auto"},De={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},Ae={class:"lg:col-span-3 animate-in fade-in slide-in-from-bottom duration-700 delay-300"},Be={class:"bg-card rounded-xl p-5 shadow-md border border-border"},Le={class:"text-xl font-semibold mb-4 flex items-center gap-2"},Re={class:"space-y-1"},qe=["onClick"],Pe={class:"flex items-center gap-2"},Me={class:"mt-6 pt-5 border-t border-border"},Ie={class:"flex justify-between items-center mb-3"},Ue={class:"font-medium"},ze={class:"space-y-2"},He={class:"flex items-center"},Fe={for:"status-all",class:"ms-2 text-sm"},Ne={class:"flex items-center"},Ee={for:"status-new",class:"ms-2 text-sm flex items-center gap-1"},Oe={class:"flex items-center"},We={for:"status-read",class:"ms-2 text-sm"},Ge={class:"flex items-center"},Je={for:"status-responded",class:"ms-2 text-sm"},Ke={class:"mt-6 pt-5 border-t border-border"},Qe={class:"lg:col-span-9 animate-in fade-in slide-in-from-bottom duration-700 delay-450"},Xe={key:0,class:"flex justify-center items-center h-64"},Ye={class:"flex flex-col items-center"},Ze={class:"text-muted-foreground"},et={key:1,class:"bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center"},tt={class:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2"},st={class:"text-red-600 dark:text-red-300"},at={key:2,class:"bg-card border border-border rounded-xl p-10 text-center"},rt={class:"mx-auto w-20 h-20 flex items-center justify-center bg-primary/5 rounded-full mb-4"},ot={class:"text-xl font-semibold mb-2"},nt={class:"text-muted-foreground max-w-md mx-auto mb-6"},lt={href:"/contact",class:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-5 py-2 rounded-md transition-colors"},dt={key:3},it={class:"flex justify-between items-center mb-6"},ct={class:"text-2xl font-semibold"},ut={class:"text-lg text-muted-foreground"},mt={class:"flex items-center gap-2"},pt=["placeholder"],vt={class:"space-y-4"},bt=["onClick"],ft={class:"flex items-center gap-2"},gt={class:"font-medium"},ht={class:"text-sm text-muted-foreground mt-1 flex flex-wrap gap-x-4 gap-y-1"},xt={class:"flex items-center gap-1"},yt={class:"flex items-center gap-1"},_t={class:"flex items-center gap-1"},kt={class:"flex items-center gap-1"},wt={class:"flex items-center"},Ct={key:0,class:"border-t border-border p-4"},$t={class:"space-y-4"},St={class:"bg-muted/50 rounded-md p-4"},Tt={class:"font-medium mb-2"},jt={class:"whitespace-pre-line"},Vt={class:"flex flex-wrap gap-2"},Dt=["onClick","disabled"],At=["onClick","disabled"],Bt=["href"],Lt=["onClick"],Rt={key:0,class:"flex justify-center mt-8"},qt={class:"flex gap-1"},Pt=["disabled"],Mt=["disabled"],It=["onClick"],Ut=["disabled"],zt=["disabled"],Ht={class:"text-xl font-semibold text-center mb-2"},Ft={class:"text-muted-foreground text-center mb-6"},Nt={class:"flex justify-center gap-4"},q=6,ss=U({__name:"AdminContactPage",setup(Et){const _=U({name:"Badge",props:{variant:{type:String,default:"default"}},setup(t,{slots:a}){const s=S(()=>{switch(t.variant){case"red":return"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300";case"green":return"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"blue":return"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-gray-50 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}});return()=>{var d;return ne("span",{class:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${s.value}`},(d=a.default)==null?void 0:d.call(a))}}}),{t:Ot,locale:F}=X(),u=le(),v=h("all"),p=h("all"),k=h(""),c=h(1),g=h(null),C=h(!1),$=h(null),N=[{value:"general",icon:de},{value:"services",icon:ee},{value:"partnership",icon:ue},{value:"support",icon:ie}];function E(){v.value="all",p.value="all",k.value="",c.value=1}function P(t){return u.submissions.filter(a=>a.inquiryType===t).length}function M(t){return u.submissions.filter(a=>a.status===t).length}function O(t){const a=new Date(t);return new Intl.DateTimeFormat(F.value,{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}).format(a)}const V=S(()=>u.submissions.filter(t=>{if(v.value!=="all"&&t.inquiryType!==v.value||p.value!=="all"&&t.status!==p.value)return!1;if(k.value){const a=k.value.toLowerCase();return t.name.toLowerCase().includes(a)||t.email.toLowerCase().includes(a)||t.subject.toLowerCase().includes(a)||t.message.toLowerCase().includes(a)}return!0}).sort((t,a)=>new Date(a.createdAt).getTime()-new Date(t.createdAt).getTime())),b=S(()=>Math.ceil(V.value.length/q)),W=S(()=>{const t=(c.value-1)*q,a=t+q;return V.value.slice(t,a)}),G=S(()=>{const t=[];if(b.value<=5)for(let s=1;s<=b.value;s++)t.push(s);else{const s=Math.floor(2.5);let d=c.value-s;d<1&&(d=1);let f=d+5-1;f>b.value&&(f=b.value,d=f-5+1,d<1&&(d=1));for(let B=d;B<=f;B++)t.push(B)}return t});Y([v,p,k],()=>{c.value=1,g.value=null});function J(t){var a;if(((a=g.value)==null?void 0:a.id)===t.id){g.value=null;return}g.value=t,t.status==="new"&&u.updateSubmissionStatus(t.id,"read")}function I(t,a){u.updateSubmissionStatus(t,a)}function K(t){$.value=t,C.value=!0}function Q(){var t;$.value&&(u.deleteSubmission($.value),((t=g.value)==null?void 0:t.id)===$.value&&(g.value=null),C.value=!1,$.value=null)}return(t,a)=>(n(),m("div",Ce,[a[15]||(a[15]=e("div",{class:"absolute top-0 inset-x-0 h-40 bg-gradient-to-b from-primary/5 to-transparent"},null,-1)),e("div",$e,[e("div",Se,[e("h1",Te,r(t.$t("contact.admin.title")),1),e("p",je,r(t.$t("contact.admin.subtitle")),1)]),e("div",Ve,[e("div",De,[e("div",Ae,[e("div",Be,[e("h2",Le,[l(o(H),{class:"h-5 w-5 text-primary"}),i(" "+r(t.$t("contact.admin.inquiries")),1)]),e("div",Re,[e("button",{onClick:a[0]||(a[0]=s=>v.value="all"),class:D(["w-full flex items-center justify-between px-3 py-2 text-start rounded-md transition-colors",v.value==="all"?"bg-primary/10 text-primary font-medium":"hover:bg-muted"])},[e("span",null,r(t.$t("contact.admin.all")),1),o(u).submissions.length>0?(n(),y(o(_),{key:0},{default:w(()=>[i(r(o(u).submissions.length),1)]),_:1})):x("",!0)],2),(n(),m(L,null,R(N,s=>e("button",{key:s.value,onClick:d=>v.value=s.value,class:D(["w-full flex items-center justify-between px-3 py-2 text-start rounded-md transition-colors",v.value===s.value?"bg-primary/10 text-primary font-medium":"hover:bg-muted"])},[e("div",Pe,[(n(),y(Z(s.icon),{class:"h-4 w-4"})),e("span",null,r(t.$t(`contact.inquiryTypes.${s.value}`)),1)]),P(s.value)>0?(n(),y(o(_),{key:0},{default:w(()=>[i(r(P(s.value)),1)]),_:2},1024)):x("",!0)],10,qe)),64))]),e("div",Me,[e("div",Ie,[e("h3",Ue,r(t.$t("contact.admin.status")),1),e("button",{onClick:E,class:"text-xs text-primary hover:underline"},r(t.$t("contact.admin.resetFilters")),1)]),e("div",ze,[e("div",He,[T(e("input",{id:"status-all","onUpdate:modelValue":a[1]||(a[1]=s=>p.value=s),type:"radio",value:"all",class:"h-4 w-4 text-primary focus:ring-primary/50"},null,512),[[A,p.value]]),e("label",Fe,r(t.$t("contact.admin.all")),1)]),e("div",Ne,[T(e("input",{id:"status-new","onUpdate:modelValue":a[2]||(a[2]=s=>p.value=s),type:"radio",value:"new",class:"h-4 w-4 text-primary focus:ring-primary/50"},null,512),[[A,p.value]]),e("label",Ee,[i(r(t.$t("contact.admin.statusNew"))+" ",1),M("new")>0?(n(),y(o(_),{key:0,variant:"red"},{default:w(()=>[i(r(M("new")),1)]),_:1})):x("",!0)])]),e("div",Oe,[T(e("input",{id:"status-read","onUpdate:modelValue":a[3]||(a[3]=s=>p.value=s),type:"radio",value:"read",class:"h-4 w-4 text-primary focus:ring-primary/50"},null,512),[[A,p.value]]),e("label",We,r(t.$t("contact.admin.statusRead")),1)]),e("div",Ge,[T(e("input",{id:"status-responded","onUpdate:modelValue":a[4]||(a[4]=s=>p.value=s),type:"radio",value:"responded",class:"h-4 w-4 text-primary focus:ring-primary/50"},null,512),[[A,p.value]]),e("label",Je,r(t.$t("contact.admin.statusResponded")),1)])])]),e("div",Ke,[e("button",{onClick:a[5]||(a[5]=s=>o(u).fetchSubmissions()),class:"w-full bg-primary/10 hover:bg-primary/20 text-primary py-2 rounded-md transition-colors flex items-center justify-center gap-2"},[l(o(pe),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.refresh")),1)])])])]),e("div",Qe,[o(u).isLoading?(n(),m("div",Xe,[e("div",Ye,[l(o(te),{class:"h-10 w-10 text-primary animate-spin mb-4"}),e("p",Ze,r(t.$t("contact.admin.loading")),1)])])):o(u).error?(n(),m("div",et,[l(o(ve),{class:"h-12 w-12 text-red-500 mx-auto mb-4"}),e("h3",tt,r(t.$t("contact.admin.errorTitle")),1),e("p",st,r(o(u).error),1),e("button",{onClick:a[6]||(a[6]=s=>o(u).fetchSubmissions()),class:"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:hover:bg-red-900 text-red-700 dark:text-red-300 rounded-md transition-colors"},r(t.$t("contact.admin.tryAgain")),1)])):V.value.length===0?(n(),m("div",at,[e("div",rt,[l(o(H),{class:"h-10 w-10 text-primary/60"})]),e("h3",ot,r(t.$t("contact.admin.noSubmissions")),1),e("p",nt,r(t.$t("contact.admin.noSubmissionsDesc")),1),e("a",lt,[l(o(me),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.goToContact")),1)])])):(n(),m("div",dt,[e("div",it,[e("h2",ct,[i(r(v.value==="all"?t.$t("contact.admin.allInquiries"):t.$t(`contact.inquiryTypes.${v.value}`))+" ",1),e("span",ut,"("+r(V.value.length)+")",1)]),e("div",mt,[T(e("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>k.value=s),type:"search",placeholder:t.$t("contact.admin.search"),class:"px-3 py-1 border border-border bg-card rounded-md focus:outline-none focus:ring-2 focus:ring-primary/40"},null,8,pt),[[se,k.value]])])]),e("div",vt,[(n(!0),m(L,null,R(W.value,s=>{var d;return n(),m("div",{key:s.id,class:D(["bg-card border border-border rounded-lg overflow-hidden transition-all duration-200 hover:shadow-md",{"border-primary/50":s.status==="new"}])},[e("div",{class:"p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-4 cursor-pointer",onClick:f=>J(s)},[e("div",null,[e("div",ft,[e("h3",gt,r(s.subject),1),s.status==="new"?(n(),y(o(_),{key:0,variant:"red"},{default:w(()=>[i(r(t.$t("contact.admin.new")),1)]),_:1})):s.status==="read"?(n(),y(o(_),{key:1,variant:"blue"},{default:w(()=>[i(r(t.$t("contact.admin.read")),1)]),_:1})):s.status==="responded"?(n(),y(o(_),{key:2,variant:"green"},{default:w(()=>[i(r(t.$t("contact.admin.responded")),1)]),_:1})):x("",!0)]),e("div",ht,[e("div",xt,[l(o(ce),{class:"h-3 w-3"}),e("span",null,r(s.name),1)]),e("div",yt,[l(o(ae),{class:"h-3 w-3"}),e("span",null,r(s.email),1)]),e("div",_t,[l(o(be),{class:"h-3 w-3"}),e("span",null,r(O(s.createdAt)),1)]),e("div",kt,[l(o(we),{class:"h-3 w-3"}),e("span",null,r(t.$t(`contact.inquiryTypes.${s.inquiryType}`)),1)])])]),e("div",wt,[l(o(z),{class:"h-5 w-5 text-muted-foreground"})])],8,bt),((d=g.value)==null?void 0:d.id)===s.id?(n(),m("div",Ct,[e("div",$t,[e("div",null,[e("div",St,[e("h4",Tt,r(t.$t("contact.message")),1),e("p",jt,r(s.message),1)])]),e("div",Vt,[e("button",{onClick:f=>I(s.id,"read"),class:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",disabled:s.status==="read"},[l(o(fe),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.markAsRead")),1)],8,Dt),e("button",{onClick:f=>I(s.id,"responded"),class:"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300 rounded-md hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",disabled:s.status==="responded"},[l(o(re),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.markAsResponded")),1)],8,At),e("a",{href:`mailto:${s.email}?subject=RE: ${s.subject}`,class:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-md hover:bg-primary/20 transition-colors"},[l(o(ke),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.reply")),1)],8,Bt),e("button",{onClick:f=>K(s.id),class:"inline-flex items-center gap-1 px-3 py-1 bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300 rounded-md hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors"},[l(o(ge),{class:"h-4 w-4"}),i(" "+r(t.$t("contact.admin.delete")),1)],8,Lt)])])])):x("",!0)],2)}),128))]),b.value>1?(n(),m("div",Rt,[e("div",qt,[e("button",{onClick:a[8]||(a[8]=s=>c.value=1),disabled:c.value===1,class:"px-3 py-1 rounded-md border border-border bg-card hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(ye),{class:"h-4 w-4"})],8,Pt),e("button",{onClick:a[9]||(a[9]=s=>c.value--),disabled:c.value===1,class:"px-3 py-1 rounded-md border border-border bg-card hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(he),{class:"h-4 w-4"})],8,Mt),(n(!0),m(L,null,R(G.value,s=>(n(),m("button",{key:s,onClick:d=>c.value=s,class:D(["px-3 py-1 rounded-md border hover:bg-muted",c.value===s?"bg-primary text-primary-foreground border-primary":"bg-card border-border"])},r(s),11,It))),128)),e("button",{onClick:a[10]||(a[10]=s=>c.value++),disabled:c.value===b.value,class:"px-3 py-1 rounded-md border border-border bg-card hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(z),{class:"h-4 w-4"})],8,Ut),e("button",{onClick:a[11]||(a[11]=s=>c.value=b.value),disabled:c.value===b.value,class:"px-3 py-1 rounded-md border border-border bg-card hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"},[l(o(_e),{class:"h-4 w-4"})],8,zt)])])):x("",!0)]))])])])]),C.value?(n(),m("div",{key:0,class:"fixed inset-0 bg-black/50 dark:bg-black/60 flex items-center justify-center z-50 p-4",onClick:a[14]||(a[14]=s=>C.value=!1)},[e("div",{class:"bg-background rounded-xl shadow-lg max-w-md w-full p-6",onClick:a[13]||(a[13]=oe(()=>{},["stop"]))},[l(o(xe),{class:"h-10 w-10 text-red-500 mx-auto mb-4"}),e("h3",Ht,r(t.$t("contact.admin.confirmDelete")),1),e("p",Ft,r(t.$t("contact.admin.deleteWarning")),1),e("div",Nt,[e("button",{onClick:a[12]||(a[12]=s=>C.value=!1),class:"px-5 py-2 border border-border rounded-md hover:bg-muted transition-colors"},r(t.$t("common.cancel")),1),e("button",{onClick:Q,class:"px-5 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors"},r(t.$t("contact.admin.delete")),1)])])])):x("",!0)]))}});export{ss as default};
