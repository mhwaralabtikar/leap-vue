import{c as A,a as M,u as _,g as P}from"./useForwardExpose-DjYziLYl.js";import{P as k}from"./index-BmMS0d8z.js";import{d as B,M as $,A as w,f as O,l as h,N as R,k as a,r as i,h as g,w as x,ad as D,o as F,j as H,Q as I,v as V}from"./entry-server-DIdk1VNC.js";import{u as E,P as T}from"./useForwardPropsEmits-BeYNsp5-.js";const[j,q]=A("CollapsibleRoot"),G=B({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(r,{expose:p,emit:c}){const o=r,n=M(o,"open",c,{defaultValue:o.defaultOpen,passive:o.open===void 0}),{disabled:l,unmountOnHide:d}=$(o);return q({contentId:"",disabled:l,open:n,unmountOnHide:d,onOpenToggle:()=>{n.value=!n.value}}),p({open:n}),_(),(s,m)=>(O(),w(a(k),{as:s.as,"as-child":o.asChild,"data-state":a(n)?"open":"closed","data-disabled":a(l)?"":void 0},{default:h(()=>[R(s.$slots,"default",{open:a(n)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),J=B({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(r,{emit:p}){const c=r,o=p,t=j();t.contentId||(t.contentId=E(void 0,"reka-collapsible-content"));const n=i(),{forwardRef:l,currentElement:d}=_(),s=i(0),m=i(0),y=g(()=>t.open.value),f=i(y.value),u=i();x(()=>{var e;return[y.value,(e=n.value)==null?void 0:e.present]},async()=>{await D();const e=d.value;if(!e)return;u.value=u.value||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const v=e.getBoundingClientRect();m.value=v.height,s.value=v.width,f.value||(e.style.transitionDuration=u.value.transitionDuration,e.style.animationName=u.value.animationName)},{immediate:!0});const N=g(()=>f.value&&t.open.value);return F(()=>{requestAnimationFrame(()=>{f.value=!1})}),P(d,"beforematch",e=>{requestAnimationFrame(()=>{t.onOpenToggle(),o("contentFound")})}),(e,v)=>(O(),w(a(T),{ref_key:"presentRef",ref:n,present:e.forceMount||a(t).open.value,"force-mount":!0},{default:h(({present:b})=>{var C;return[H(a(k),I(e.$attrs,{id:a(t).contentId,ref:a(l),"as-child":c.asChild,as:e.as,hidden:b?void 0:a(t).unmountOnHide.value?"":"until-found","data-state":N.value?void 0:a(t).open.value?"open":"closed","data-disabled":(C=a(t).disabled)!=null&&C.value?"":void 0,style:{"--reka-collapsible-content-height":`${m.value}px`,"--reka-collapsible-content-width":`${s.value}px`}}),{default:h(()=>[!a(t).unmountOnHide.value||b?R(e.$slots,"default",{key:0}):V("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}});export{G as _,J as a,j as i};
