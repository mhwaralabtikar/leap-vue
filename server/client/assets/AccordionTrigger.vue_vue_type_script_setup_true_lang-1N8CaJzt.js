import{u as H,a as N,b as F}from"./useForwardPropsEmits-BeYNsp5-.js";import{h as u,d as p,M as j,A as f,f as m,l as d,N as c,k as o,L as K,Q as $,m as q,p as z,j as P}from"./entry-server-DIdk1VNC.js";import{P as E,c as S}from"./index-BmMS0d8z.js";import{a as L,c as M,u as x}from"./useForwardExpose-DjYziLYl.js";import{_ as U,a as Q,i as X}from"./CollapsibleContent-D1wxpwpL.js";import{i as R,b as G,u as J}from"./RovingFocusItem-CwqUHVmx.js";import{C as W}from"./chevron-down-2huesZD6.js";function Y({type:t,defaultValue:n,modelValue:a}){const e=a||n;return a!==void 0||n!==void 0?Array.isArray(e)?"multiple":"single":t??"single"}function Z({type:t,defaultValue:n,modelValue:a}){return t||Y({type:t,defaultValue:n,modelValue:a})}function ee({type:t,defaultValue:n}){return n!==void 0?n:t==="single"?void 0:[]}function ae(t,n){const a=u(()=>Z(t)),e=L(t,"modelValue",n,{defaultValue:ee(t),passive:t.modelValue===void 0,deep:!0});function s(r){if(a.value==="single")e.value=R(r,e.value)?void 0:r;else{const i=Array.isArray(e.value)?[...e.value||[]]:[e.value].filter(Boolean);if(G(i,r)){const v=i.findIndex(g=>R(g,r));i.splice(v,1)}else i.push(r);e.value=i}}const l=u(()=>a.value==="single");return{modelValue:e,changeModelValue:s,isSingle:l}}const[k,te]=M("AccordionRoot"),oe=p({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const a=t,e=n,{dir:s,disabled:l,unmountOnHide:r}=j(a),i=J(s),{modelValue:v,changeModelValue:g,isSingle:C}=ae(a,e),{forwardRef:b,currentElement:h}=x();return te({disabled:l,direction:i,orientation:a.orientation,parentElement:h,isSingle:C,collapsible:a.collapsible,modelValue:v,changeModelValue:g,unmountOnHide:r}),(y,w)=>(m(),f(o(E),{ref:o(b),"as-child":y.asChild,as:y.as},{default:d(()=>[c(y.$slots,"default",{modelValue:o(v)})]),_:3},8,["as-child","as"]))}}),ne=["INPUT","TEXTAREA"];function se(t,n,a,e={}){if(!n||e.enableIgnoredElement&&ne.includes(n.nodeName))return null;const{arrowKeyOptions:s="both",attributeName:l="[data-reka-collection-item]",itemsArray:r=[],loop:i=!0,dir:v="ltr",preventScroll:g=!0,focus:C=!1}=e,[b,h,y,w,A,B]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],I=y||w,D=b||h;if(!A&&!B&&(!I&&!D||s==="vertical"&&D||s==="horizontal"&&I))return null;const V=a?Array.from(a.querySelectorAll(l)):r;if(!V.length)return null;g&&t.preventDefault();let _=null;return D||I?_=T(V,n,{goForward:I?w:v==="ltr"?b:h,loop:i}):A?_=V.at(0)||null:B&&(_=V.at(-1)||null),C&&(_==null||_.focus()),_}function T(t,n,a,e=t.length){if(--e===0)return null;const s=t.indexOf(n),l=a.goForward?s+1:s-1;if(!a.loop&&(l<0||l>=t.length))return null;const r=(l+t.length)%t.length,i=t[r];return i?i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false"?T(t,i,a,e):i:null}const[O,le]=M("AccordionItem"),re=p({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t,{expose:n}){const a=t,e=k(),s=u(()=>e.isSingle.value?a.value===e.modelValue.value:Array.isArray(e.modelValue.value)&&e.modelValue.value.includes(a.value)),l=u(()=>e.disabled.value||a.disabled),r=u(()=>l.value?"":void 0),i=u(()=>s.value?"open":"closed");n({open:s,dataDisabled:r});const{currentRef:v,currentElement:g}=x();le({open:s,dataState:i,disabled:l,dataDisabled:r,triggerId:"",currentRef:v,currentElement:g,value:u(()=>a.value)});function C(b){var A;const h=b.target;if(Array.from(((A=e.parentElement.value)==null?void 0:A.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(B=>B===h)===-1)return null;se(b,g.value,e.parentElement.value,{arrowKeyOptions:e.orientation,dir:e.direction.value,focus:!0})}return(b,h)=>(m(),f(o(U),{"data-orientation":o(e).orientation,"data-disabled":r.value,"data-state":i.value,disabled:l.value,open:s.value,as:a.as,"as-child":a.asChild,"unmount-on-hide":o(e).unmountOnHide.value,onKeydown:K(C,["up","down","left","right","home","end"])},{default:d(()=>[c(b.$slots,"default",{open:s.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),ie=p({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=t,a=k(),e=O();return x(),(s,l)=>(m(),f(o(Q),{role:"region","as-child":n.asChild,as:s.as,"force-mount":n.forceMount,"aria-labelledby":o(e).triggerId,"data-state":o(e).dataState.value,"data-disabled":o(e).dataDisabled.value,"data-orientation":o(a).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:l[0]||(l[0]=r=>o(a).changeModelValue(o(e).value.value))},{default:d(()=>[c(s.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),de=p({__name:"AccordionHeader",props:{asChild:{type:Boolean},as:{default:"h3"}},setup(t){const n=t,a=k(),e=O();return x(),(s,l)=>(m(),f(o(E),{as:n.as,"as-child":n.asChild,"data-orientation":o(a).orientation,"data-state":o(e).dataState.value,"data-disabled":o(e).dataDisabled.value},{default:d(()=>[c(s.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),ce=p({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const n=t;x();const a=X();return(e,s)=>{var l,r;return m(),f(o(E),{type:e.as==="button"?"button":void 0,as:e.as,"as-child":n.asChild,"aria-controls":o(a).contentId,"aria-expanded":o(a).open.value,"data-state":o(a).open.value?"open":"closed","data-disabled":(l=o(a).disabled)!=null&&l.value?"":void 0,disabled:(r=o(a).disabled)==null?void 0:r.value,onClick:o(a).onOpenToggle},{default:d(()=>[c(e.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),ue=p({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const n=t,a=k(),e=O();e.triggerId||(e.triggerId=H(void 0,"reka-accordion-trigger"));function s(){const l=a.isSingle.value&&e.open.value&&!a.collapsible;e.disabled.value||l||a.changeModelValue(e.value.value)}return(l,r)=>(m(),f(o(ce),{id:o(e).triggerId,ref:o(e).currentRef,"data-reka-collection-item":"",as:n.as,"as-child":n.asChild,"aria-disabled":o(e).disabled.value||void 0,"aria-expanded":o(e).open.value||!1,"data-disabled":o(e).dataDisabled.value,"data-orientation":o(a).orientation,"data-state":o(e).dataState.value,disabled:o(e).disabled.value,onClick:s},{default:d(()=>[c(l.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),ye=p({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const s=N(t,n);return(l,r)=>(m(),f(o(oe),$({"data-slot":"accordion"},o(s)),{default:d(()=>[c(l.$slots,"default")]),_:3},16))}}),Ce=p({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,a=u(()=>{const{class:e,...s}=n;return s});return(e,s)=>(m(),f(o(ie),$({"data-slot":"accordion-content"},a.value,{class:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"}),{default:d(()=>[q("div",{class:z(o(S)("pt-0 pb-4",n.class))},[c(e.$slots,"default")],2)]),_:3},16))}}),Ae=p({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,a=u(()=>{const{class:s,...l}=n;return l}),e=F(a);return(s,l)=>(m(),f(o(re),$({"data-slot":"accordion-item"},o(e),{class:o(S)("border-b last:border-b-0",n.class)}),{default:d(()=>[c(s.$slots,"default")]),_:3},16,["class"]))}}),xe=p({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,a=u(()=>{const{class:e,...s}=n;return s});return(e,s)=>(m(),f(o(de),{class:"flex"},{default:d(()=>[P(o(ue),$({"data-slot":"accordion-trigger"},a.value,{class:o(S)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-start text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",n.class)}),{default:d(()=>[c(e.$slots,"default"),c(e.$slots,"icon",{},()=>[P(o(W),{class:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}});export{Ae as _,xe as a,Ce as b,ye as c};
