import{d as D,u as j,E as A,G as B,H as F,J as N,h as U,r as x,w as H,o as J,K,e as f,f as _,j as a,m as s,l as c,t as r,k as i,s as h,L as I,F as M,n as G}from"./entry-server-DIdk1VNC.js";import{_ as v}from"./index-BmMS0d8z.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-Dln-4UEh.js";import{u as Q}from"./services-D2KmzSxq.js";import{u as X}from"./jobs-DpT3rb2X.js";import{u as W}from"./blog-B3phv8p1.js";import{H as Y}from"./components-Dj8Wkk-v.js";import{S as Z}from"./search-WJzYRjzb.js";import{A as C}from"./arrow-right-DA5zs46A.js";import{X as ee}from"./x-CDkJ3bvN.js";import"./index-C_RAwWg6.js";const te=["dir"],se=["content"],oe=["href"],re={class:"py-16 md:py-24"},ae={class:"container mx-auto px-4"},ie={class:"max-w-3xl mx-auto mb-12"},le={class:"text-3xl md:text-4xl font-bold mb-6"},ne={class:"text-primary"},ce={class:"bg-card dark:bg-card/50 p-6 rounded-xl border border-border/40 shadow-sm"},ue={class:"relative"},de={key:0,class:"max-w-3xl mx-auto text-center py-12"},he={class:"mt-4 text-muted-foreground"},me={key:1,class:"max-w-3xl mx-auto"},pe={class:"text-sm text-muted-foreground mb-6"},fe={class:"space-y-6"},_e={class:"text-xl font-semibold mb-2"},ve={class:"text-muted-foreground mb-3"},ye={class:"flex items-center justify-between"},ge={class:"text-xs text-muted-foreground/60"},we={key:2,class:"max-w-3xl mx-auto text-center py-12"},be={class:"relative inline-block mb-6"},xe={class:"h-24 w-24 bg-muted/30 rounded-full mx-auto flex items-center justify-center"},Se={class:"text-2xl font-semibold mb-3"},$e={class:"text-muted-foreground mb-6"},Le={class:"mt-8"},Ce={class:"text-sm font-medium mb-3"},ke={class:"flex flex-wrap justify-center gap-2"},Ue=D({__name:"SearchPage",setup(Re){var L;const{t:Pe}=j(),m=A(),S=B(),k=F(),R=Q(),P=N(),q=X(),T=W(),E=((L=k.config)==null?void 0:L.siteUrl)||"https://leap-pm.com",y=U(()=>S.query.q||""),u=x(y.value),w=x(!1),p=x([]);H(()=>S.query.q,t=>{t&&(u.value=t,b(t))}),J(()=>{if(y.value&&b(y.value),window.location.hash){const t=window.location.hash.slice(1);t&&(u.value=t,b(t),m&&typeof m.push=="function"&&m.push({path:"/search",query:{q:t}}))}});function $(){u.value.trim()&&m&&typeof m.push=="function"&&m.push({path:"/search",query:{q:u.value},hash:`#${u.value}`})}async function b(t){w.value=!0;const l=[];try{await new Promise(e=>setTimeout(e,300));const o=t.toLowerCase();R.services.forEach(e=>{const n=e.title.toLowerCase().includes(o),d=e.description.toLowerCase().includes(o);(n||d)&&l.push({title:e.title,description:e.description,url:`/services/${e.id}`,type:"Service"})}),P.projects.forEach(e=>{const n=e.title.toLowerCase().includes(o),d=e.description.toLowerCase().includes(o),g=e.category.toLowerCase().includes(o);(n||d||g)&&l.push({title:e.title,description:e.description,url:`/projects/${e.id}`,type:"Project"})}),q.jobs.forEach(e=>{const n=e.title.toLowerCase().includes(o),d=e.department.toLowerCase().includes(o),g=e.description.toLowerCase().includes(o);(n||d||g)&&l.push({title:e.title,description:e.description,url:`/jobs/${e.id}`,type:"Job"})}),T.blogPosts.forEach(e=>{const n=e.title.toLowerCase().includes(o),d=e.excerpt.toLowerCase().includes(o),g=e.category.toLowerCase().includes(o),z=e.tags.some(V=>V.toLowerCase().includes(o));(n||d||g||z)&&l.push({title:e.title,description:e.excerpt,url:`/blog/${e.id}`,type:"Blog Post"})}),p.value=l}catch(o){console.error("Search error:",o),p.value=[]}finally{w.value=!1}}return(t,l)=>{const o=K("RouterLink");return _(),f("div",{dir:t.$i18n.locale==="ar"?"rtl":"ltr"},[a(i(Y),null,{default:c(()=>[s("title",null,r(t.$t("search.title")||"Search Results")+" | LEAP PM",1),s("meta",{name:"description",content:t.$t("search.description")||"Search results for your query"},null,8,se),s("link",{rel:"canonical",href:`${i(E)}/search?q=${encodeURIComponent(y.value)}`},null,8,oe)]),_:1}),s("section",re,[s("div",ae,[s("div",ie,[s("h1",le,[h(r(t.$t("search.resultsFor")||"Search Results for")+": ",1),s("span",ne,r(y.value),1)]),s("div",ce,[s("div",ue,[a(i(Z),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a(i(O),{class:"pl-10 w-full",placeholder:t.$t("search.placeholder")||"Search again...",onKeydown:I($,["enter"]),modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e)},null,8,["placeholder","modelValue"]),a(i(v),{onClick:$,class:"absolute right-1 top-1 h-8",size:"sm",variant:"ghost"},{default:c(()=>[a(i(C),{class:"h-4 w-4"})]),_:1})])])]),w.value?(_(),f("div",de,[l[1]||(l[1]=s("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"},null,-1)),s("p",he,r(t.$t("search.loading")||"Searching..."),1)])):p.value.length>0?(_(),f("div",me,[s("p",pe,r(t.$t("search.foundResults",{count:p.value.length})||`Found ${p.value.length} results`),1),s("div",fe,[(_(!0),f(M,null,G(p.value,(e,n)=>(_(),f("div",{key:n,class:"bg-card dark:bg-card/50 p-6 rounded-xl border border-border/40 hover:border-border transition-all shadow-sm hover:shadow-md"},[s("h2",_e,[a(o,{to:e.url,class:"hover:text-primary transition-colors"},{default:c(()=>[h(r(e.title),1)]),_:2},1032,["to"])]),s("p",ve,r(e.description),1),s("div",ye,[s("span",ge,r(e.type),1),a(i(v),{as:"RouterLink",to:e.url,variant:"ghost",size:"sm",class:"text-primary"},{default:c(()=>[h(r(t.$t("search.viewResult")||"View")+" ",1),a(i(C),{class:"ml-1 h-3 w-3"})]),_:2},1032,["to"])])]))),128))])])):(_(),f("div",we,[s("div",be,[s("div",xe,[a(i(ee),{class:"h-12 w-12 text-muted-foreground/70"})])]),s("h2",Se,r(t.$t("search.noResults")||"No results found"),1),s("p",$e,r(t.$t("search.tryDifferent")||"Try different keywords or browse our popular pages"),1),s("div",Le,[s("p",Ce,r(t.$t("search.popularPages")||"Popular Pages")+":",1),s("div",ke,[a(i(v),{as:"RouterLink",to:"/services",variant:"outline",size:"sm",class:"rounded-full"},{default:c(()=>[h(r(t.$t("services.title")||"Services"),1)]),_:1}),a(i(v),{as:"RouterLink",to:"/projects",variant:"outline",size:"sm",class:"rounded-full"},{default:c(()=>[h(r(t.$t("projects.title")||"Projects"),1)]),_:1}),a(i(v),{as:"RouterLink",to:"/about",variant:"outline",size:"sm",class:"rounded-full"},{default:c(()=>[h(r(t.$t("about.title")||"About"),1)]),_:1}),a(i(v),{as:"RouterLink",to:"/contact",variant:"outline",size:"sm",class:"rounded-full"},{default:c(()=>[h(r(t.$t("contact.title")||"Contact"),1)]),_:1})])])]))])])],8,te)}}});export{Ue as default};
